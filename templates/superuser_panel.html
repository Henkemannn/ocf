{% extends 'layout.html' %}
{% block content %}
<div class="container py-5" style="max-width:900px">
  <h2 class="mb-4 text-center fw-bold">Superuser – Admin & Rigg-håndtering</h2>
  {% if error %}
    <div class="alert alert-danger text-center">{{ error }}</div>
  {% endif %}

  <div class="card shadow-sm border-0 mb-4">
    <div class="card-body">
      <h4 class="card-title mb-3">Opprett ny rigg</h4>
      <form method="post" class="row g-2 align-items-end">
        <div class="col-7">
          <input type="text" class="form-control" name="new_rig_name" placeholder="Rignavn" required>
        </div>
        <div class="col-5">
          <input type="text" class="form-control" name="new_rig_desc" placeholder="Beskrivelse (valgfritt)">
        </div>
        <div class="col-12 mt-2">
          <button type="submit" class="btn btn-primary w-100">Opprett rigg</button>
        </div>
      </form>
    </div>
  </div>


  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4 mb-4">
    {% for rig in rigs %}
      <div class="col">
        <a href="{{ url_for('superuser_rig_detail', rig_id=rig['id']) }}" class="text-decoration-none">
          <div class="card h-100 shadow-sm border-0 rig-card text-center p-4 hover-shadow">
            <div class="mb-2" style="font-size:2.5rem; color:#0d6efd;">
              <svg xmlns="http://www.w3.org/2000/svg" width="2.5em" height="2.5em" fill="currentColor" class="bi bi-building" viewBox="0 0 16 16">
                <path d="M6.5 15.5v-2h-2v2h2zm5 0v-2h-2v2h2zm-5-3v-2h-2v2h2zm5 0v-2h-2v2h2zm-5-3v-2h-2v2h2zm5 0v-2h-2v2h2zm-5-3V2.5A1.5 1.5 0 0 1 7 1h2A1.5 1.5 0 0 1 10.5 2.5V6h-2V2.5a.5.5 0 0 0-1 0V6h-2zm7 10V2.5A2.5 2.5 0 0 0 10.5 0h-5A2.5 2.5 0 0 0 3 2.5V16h10z"/>
              </svg>
            </div>
            <h5 class="fw-bold mb-1">{{ rig['name'] }}</h5>
            <div class="text-muted small mb-2">{{ rig['description'] or '' }}</div>
            <span class="btn btn-outline-primary mt-2">Administrera</span>
          </div>
        </a>
      </div>
    {% else %}
      <div class="col-12"><div class="alert alert-info">Ingen riggar registrert.</div></div>
    {% endfor %}
  </div>

  <div class="text-center mt-5">
    <a href="{{ url_for('superuser_logout') }}" class="btn btn-outline-secondary btn-lg px-5">Logg ut</a>
  </div>
</div>
{% endblock %}
